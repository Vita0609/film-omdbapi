{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/markup.js","../src/js/modal.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// http://www.omdbapi.com/?apikey=[yourkey]&\n//axios.defaults.baseURL = \"http://www.omdbapi.com/\"\n// axios.defaults.headers['X-API-KEY'] = '80f72509';\n\nexport const getImagesService = async query => {\n  const { data } = await axios(\n    `https://www.omdbapi.com/?apikey=80f72509&s=${query}`\n  );\n  return data;\n};\n\nexport const getImageByIdService = async id => {\n  const { data } = await axios(\n    `https://www.omdbapi.com/?apikey=80f72509&i=${id}`\n  );\n  return data;\n};\n","///Poster: \"https://m.media-amazon.com/images/M/MV5BMTI5MDU3MTYyMF5BMl5BanBnXkFtZTYwODgyODc3._V1_SX300.jpg\"\n// Title: \"The Cat in the Hat\"\n// Type: \"movie\"\n// Year: \"2003\"\n// imdbID: \"tt0312528\"\nexport const markup = ( image) => {\n    return `<li id=\"${image.imdbID}\">\n      <a href=\"#\"> \n       <h2>${image.Title}</h2>\n        <img src=\"${image.Poster}\" alt=\"${image.Title}\" id=\"${image.imdbID}\" />\n        <p><span>${image.Year}</span><span>${image.Type}</span></p>\n      </a>\n    </li>`\n}","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { getImageByIdService } from './api';\n\nconst instance = basicLightbox.create(`\n    <div class=\"modal\">\n        <p>\n            Your first lightbox with just a few lines of code.\n            Yes, it's really that simple.\n        </p>\n    </div>\n`);\nexport async function openModal(e) {\n  e.preventDefault();\n\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  try {\n    const data = await getImageByIdService(e.target.id);\n    const instance = basicLightbox.create(`\n  <div class=\"modal-windows\">\n  <h3 class=\"\">${data.Title}</h3>\n  <img src=\"${data.Poster}\" alt=\"${data.Title}\">\n  <ul>\n    <li>Actors: ${data.Actors}</li>\n    <li>Awards: ${data.Awards}</li>\n    <li>BoxOffice: ${data.BoxOffice}</li>\n    <li>Country: ${data.Country}</li>\n    <li>Genre: ${data.Genre}</li>\n    <li>Language: ${data.Language}</li>\n    <li>Plot: ${data.Plot}</li>\n  </ul>\n</div>\n    `);\n    instance.show();\n  } catch (error) {}\n}\n","import { getImageByIdService, getImagesService } from './js/api';\nimport { markup } from './js/markup';\nimport { openModal } from './js/modal';\n\nconst searchForm = document.querySelector('.search-form');\nconst list = document.querySelector('.list');\n\nsearchForm.addEventListener('submit', getImages);\nlist.addEventListener(`click`, openModal);\n\nasync function getImages(e) {\n  e.preventDefault();\n  const { search } = e.currentTarget.elements;\n  console.log('gghhk');\n  try {\n    const { Search } = await getImagesService(search.value);\n\n    console.log(Search);\n    list.innerHTML = Search.map(markup).join('');\n  } catch (error) {}\n}\n\ngetImageByIdService('tt0312528').then(console.log);\n\n//getImagesService(\"cat\").then(console.log)\n"],"names":["getImagesService","query","data","axios","getImageByIdService","id","markup","image","basicLightbox.create","openModal","e","searchForm","list","getImages","search","Search"],"mappings":"6vBAKO,MAAMA,EAAmB,MAAMC,GAAS,CAC7C,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EACrB,8CAA8CF,CAAK,EACvD,EACE,OAAOC,CACT,EAEaE,EAAsB,MAAMC,GAAM,CAC7C,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMC,EACrB,8CAA8CE,CAAE,EACpD,EACE,OAAOH,CACT,ECZaI,EAAWC,GACb,WAAWA,EAAM,MAAM;AAAA;AAAA,aAErBA,EAAM,KAAK;AAAA,oBACJA,EAAM,MAAM,UAAUA,EAAM,KAAK,SAASA,EAAM,MAAM;AAAA,mBACvDA,EAAM,IAAI,gBAAgBA,EAAM,IAAI;AAAA;AAAA,WCNtCC,EAAAA,OAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOrC,EACM,eAAeC,EAAUC,EAAG,CAGjC,GAFAA,EAAE,eAAc,EAEZA,EAAE,OAAO,WAAa,MAG1B,GAAI,CACF,MAAMR,EAAO,MAAME,EAAoBM,EAAE,OAAO,EAAE,EACjCF,EAAAA,OAAqB;AAAA;AAAA,iBAEzBN,EAAK,KAAK;AAAA,cACbA,EAAK,MAAM,UAAUA,EAAK,KAAK;AAAA;AAAA,kBAE3BA,EAAK,MAAM;AAAA,kBACXA,EAAK,MAAM;AAAA,qBACRA,EAAK,SAAS;AAAA,mBAChBA,EAAK,OAAO;AAAA,iBACdA,EAAK,KAAK;AAAA,oBACPA,EAAK,QAAQ;AAAA,gBACjBA,EAAK,IAAI;AAAA;AAAA;AAAA,KAGpB,EACQ,KAAI,CACjB,MAAkB,CAAE,CACpB,CCjCA,MAAMS,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAO,SAAS,cAAc,OAAO,EAE3CD,EAAW,iBAAiB,SAAUE,CAAS,EAC/CD,EAAK,iBAAiB,QAASH,CAAS,EAExC,eAAeI,EAAUH,EAAG,CAC1BA,EAAE,eAAc,EAChB,KAAM,CAAE,OAAAI,CAAQ,EAAGJ,EAAE,cAAc,SACnC,QAAQ,IAAI,OAAO,EACnB,GAAI,CACF,KAAM,CAAE,OAAAK,CAAM,EAAK,MAAMf,EAAiBc,EAAO,KAAK,EAEtD,QAAQ,IAAIC,CAAM,EAClBH,EAAK,UAAYG,EAAO,IAAIT,CAAM,EAAE,KAAK,EAAE,CAC/C,MAAkB,CAAE,CACpB,CAEAF,EAAoB,WAAW,EAAE,KAAK,QAAQ,GAAG"}